"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[241],{8241:function(e,t,s){s.r(t),s.d(t,{default:function(){return re}});var r=s(1413),l=s(4165),n=s(5861),i=s(9439),c=s(7391),a=s(8624),o=s(732),d=s(9951),u=s(2791),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},m=s(4291),h=function(e,t){return u.createElement(m.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:x}))};h.displayName="LinkOutlined";var f=u.forwardRef(h),p=s(1752),Z=s(5033),j=s(3097),v=s(3820),g=s(4754),b=s(9214),w=s(848),k=s(1082),y=s(7027),N=s(6106),_=s(914),P=s(3099),C=s(6921),I=s(1431),L=s(8974),S=s(2339),T=s(2266),z=s(916),F=s(7309),E=s(1583),A=s(3388),D=s(4943),M=s(6413),B=s(8884),G=s(1118),O=s(5990),R=s(9347),q=s(2426),U=s.n(q),W=s(7738),Q=s(1134),V=s(7689),Y=s(7591),H=s(7190),J=s(5037),K=s(3961),X=s(9514),$=s(2402),ee=s(184),te=(0,ee.jsxs)(A.Z,{children:[(0,ee.jsx)(A.Z.Item,{icon:(0,ee.jsx)(v.Z,{style:{color:"blue"}}),children:"Facebook"},"1"),(0,ee.jsx)(A.Z.Item,{icon:(0,ee.jsx)(g.Z,{style:{color:"blue"}}),children:"Twitter"},"2"),(0,ee.jsx)(A.Z.Item,{icon:(0,ee.jsx)(b.Z,{style:{color:"red"}}),children:"Gmail"},"3")]}),se={button:"w-12 h-12 leading-3 text-base text-[#111] bg-[#e2e2e2] shrink-0",image:"w-full h-full object-contain rounded-lg"},re=function(e){var t=(0,H.CG)((function(e){return e.auth})).user,s=(0,V.UO)(),x=(0,V.s0)(),m=(0,Y._j)(s.postId),h=m.data,v=m.isLoading,g=m.isError,b=(m.isSuccess,m.refetch,m.isFetching),q=(0,u.useState)(!0),re=(0,i.Z)(q,2),le=(re[0],re[1],(0,Y.Bq)()),ne=(0,i.Z)(le,1)[0],ie=(0,Y.q9)(),ce=(0,i.Z)(ie,1)[0],ae=(0,Y.td)(),oe=(0,i.Z)(ae,2),de=oe[0],ue=(oe[1].isSuccess,u.useMemo((function(){return(0,ee.jsxs)(A.Z,{style:{fontSize:"20px"},children:[(0,ee.jsx)(A.Z.Item,{icon:(0,ee.jsx)(c.Z,{}),children:"Add to favorites"},"3"),t&&h&&(null===h||void 0===h?void 0:h.user._id)===t._id&&(0,ee.jsx)(k.Z,{title:"Delete the task",description:"Are you sure to delete this task?",okText:"Yes",onConfirm:(0,n.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne({postId:null===h||void 0===h?void 0:h._id,method:"DELETE"}).unwrap();case 3:e.sent,(0,X.P)("Delete Post Success !"),x("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,X.P)(e.t0,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),okType:"danger",icon:(0,ee.jsx)(a.Z,{style:{color:"red"}}),children:(0,ee.jsx)(A.Z.Item,{color:"red",style:{color:"red"},onClick:function(){},icon:(0,ee.jsx)(o.Z,{color:"red"}),children:"Delete"},"4")})]})}),[[null===h||void 0===h?void 0:h._id]])),xe=function(){var e=(0,n.Z)((0,l.Z)().mark((function e(s){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h||!t){e.next=8;break}return e.next=4,ce({postId:h._id,body:s}).unwrap();case 4:e.sent,Ze(),e.next=9;break;case 8:(0,X.P)("Post not found","error");case 9:return e.abrupt("return");case 12:e.prev=12,e.t0=e.catch(0),(0,X.P)(e.t0.message,"error");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),me=(0,Q.cI)({resolver:(0,w.F)($.O0),defaultValues:{comment:""}}),he=me.handleSubmit,fe=me.control,pe=me.formState.errors,Ze=me.reset,je=u.useCallback((function(){navigator.clipboard.writeText("".concat(J.Gp,"/post/").concat(null===h||void 0===h?void 0:h._id)),y.ZP.info("Share moments with your friends",2.5)}),[null===h||void 0===h?void 0:h._id]),ve=u.useCallback((0,n.Z)((0,l.Z)().mark((function e(){var s,r,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===h||void 0===h||!h._id||!t){e.next=11;break}return e.prev=1,e.next=4,de({postId:h._id});case 4:n=e.sent,null===(s=n.data)||void 0===s||null===(r=s.likes)||void 0===r?void 0:r.includes(t._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,X.P)(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[null===h||void 0===h?void 0:h._id]);return g&&x("/notFound"),v||b?(0,ee.jsx)(O.Z,{}):(0,ee.jsx)(R.Z,{children:(0,ee.jsx)("div",{className:"w-full max-w-7xl py-4 px-8 h-full bg-white rounded-lg overflow-hidden mx-auto ",children:h?(0,ee.jsxs)(N.Z,{gutter:[32,32],children:[(0,ee.jsxs)(_.Z,{span:24,sm:24,className:"flex justify-between bg-white mt-4",children:[(0,ee.jsx)(P.Z,{className:"flex items-center justify-between",children:(0,ee.jsxs)(P.Z,{children:[h&&h.user?(0,ee.jsx)(M.Z,{size:48,user:h.user}):(0,ee.jsx)(ee.Fragment,{}),(0,ee.jsxs)(P.Z,{direction:"vertical",size:2,children:[(0,ee.jsx)(C.Z.Text,{strong:!0,className:"text-lg text-ellipsis tracking-widest",children:null===h||void 0===h?void 0:h.user.fullName}),(0,ee.jsx)(I.Z,{title:U()(h.createdAt).fromNow(),children:(0,ee.jsx)(C.Z.Text,{children:U()(h.createdAt).fromNow()})})]})]})}),(0,ee.jsxs)(P.Z,{children:[(0,ee.jsx)(E.Z,{overlay:te,trigger:["click"],placement:"bottom",children:(0,ee.jsx)(F.ZP,{type:"primary",shape:"circle",className:se.button,children:(0,ee.jsx)(d.Z,{})})}),t&&(0,ee.jsx)(F.ZP,{type:"primary",shape:"circle",className:"".concat(se.button),onClick:je,children:(0,ee.jsx)(f,{})}),(0,ee.jsx)(F.ZP,{type:"text",shape:"circle",onClick:ve,className:"".concat(se.button),style:{padding:"0"},children:t&&t._id?(0,ee.jsx)(D.Z,{like:h.likes.includes(t&&t._id)}):"Like"}),t&&(null===h||void 0===h?void 0:h.user._id)===t._id&&(0,ee.jsx)(F.ZP,{type:"ghost",shape:"circle",onClick:function(){var e;null===W.r8||void 0===W.r8||null===(e=W.r8.current)||void 0===e||e.show(h)},className:"".concat(se.button),children:(0,ee.jsx)(p.Z,{})}),(0,ee.jsx)(E.Z,{overlay:ue,trigger:["click"],placement:"bottomRight",children:(0,ee.jsx)(F.ZP,{type:"primary",shape:"circle",className:se.button,children:(0,ee.jsx)(Z.Z,{})})})]})]}),(0,ee.jsx)(_.Z,{sm:24,lg:12,className:"sm:max-h-[64rem] lg:max-h-4xl overflow-hidden",children:(0,ee.jsx)(L.Z,{src:(null===h||void 0===h?void 0:h.URL)||(null===h||void 0===h?void 0:h.fileName),width:"auto",height:"auto",className:se.image,alt:"Mountain image"})}),(0,ee.jsx)(_.Z,{sm:24,lg:12,className:"sm:max-h-[64rem] lg:max-h-4xl",children:(0,ee.jsx)(N.Z,{className:"h-full",children:(0,ee.jsx)(_.Z,{className:"w-full h-full sm:text-center lg:text-left overflow-x-hidden ",children:(0,ee.jsxs)(N.Z,{gutter:[32,32],children:[(0,ee.jsxs)(_.Z,{span:24,children:[(0,ee.jsx)(C.Z.Title,{level:2,style:{fontWeight:"700"},children:null===h||void 0===h?void 0:h.title}),(0,ee.jsx)(C.Z.Paragraph,{strong:!0,className:"text-lg text-justify",children:null===h||void 0===h?void 0:h.description}),h.categories.map((function(e){return(0,ee.jsx)(S.Z,{color:(0,K.m)(),className:"text-base px-2 py-1",children:e.value},e._id)}))]}),t&&(0,ee.jsx)(_.Z,{span:24,className:"flex gap-4 mt-12",children:(0,ee.jsxs)("div",{className:"w-full flex gap-4",children:[(0,ee.jsx)(T.C,{size:48,src:t.avatar,alt:"",className:"shrink-0 bg-[#f56a00]",children:t.fullName}),(0,ee.jsx)(z.Z.Item,{className:"w-full mb-0",children:(0,ee.jsx)(Q.Qr,{control:fe,name:"comment",render:function(e){var t,s=e.field;return(0,ee.jsx)(G.Z,(0,r.Z)((0,r.Z)({},s),{},{placeholder:"Write a comment",className:"grow h-12 rounded-full bg-[#e2e2e2] focus:bg-[white]",error:null===(t=pe.comment)||void 0===t?void 0:t.message}))}})}),(0,ee.jsx)(F.ZP,{type:"primary",onClick:he(xe),shape:"circle",className:se.button,children:(0,ee.jsx)(j.Z,{})})]})}),(0,ee.jsx)(_.Z,{span:24,className:"grow flex-col overflow-y-auto",children:(0,ee.jsx)(B.Z,{comments:h.comments,style:{marginBottom:"auto"}})})]})})})})]}):(0,ee.jsx)(ee.Fragment,{})})})}}}]);
//# sourceMappingURL=241.17227230.chunk.js.map